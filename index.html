<!doctype html>
<!-- vim:set et ts=4 sw=4 -->

<html>
    <head>
        <title></title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <link rel="stylesheet" href="http://github.com/adammck/gmaps-v3-label-marker/raw/master/source/label-overlay.css">
        <link rel="stylesheet" href="demo.css">
        <!--[if lte IE 8]>
        <script>
            document.createElement('header');
            document.createElement('footer');
        </script>
        <![endif]-->
    </head>
    <body>
        <header>
            <h1>Google Maps v3 Label Marker Demo</h1>
        </header>

        <div id="map"></div>

        <script>
            document.getElementById("map").innerHTML =
                '<div class="loading"><div>' +
                'Please wait while the Google map loads...' +
                '</div></div>';
        </script>

        <div id="people" style="display: none;">
            <div lat="40.716667" lng="-74">
                <a href="http://github.com/adammck">
                    <img src="http://gravatar.com/avatar/394b7d5acc09cac2894e077aac7f4c0d">
                    <div>adammck</div>
                </a>
            </div>
            <div lat="55.676111" lng="12.568333">
                <a href="http://github.com/ewheeler">
                    <img src="http://gravatar.com/avatar/55cee167cd226c5d0ff08352315f28c9">
                    <div>ewheeler</div>
                </a>
            </div>
            <div lat="-15.416667" lng="28.283333">
                <a href="http://github.com/merrick">
                    <img src="http://gravatar.com/avatar/dee0c198837aa492e62c094141e11bf4">
                    <div>merrick</div>
                </a>
            </div>
            <div lat="6.453056" lng="3.395833">
                <a href="http://github.com/takinbo">
                    <img src="http://gravatar.com/avatar/3883a52f46106ef5ee9baa31fba44572">
                    <div>takinbo</div>
                </a>
            </div>
        </div>

        <footer>
            <p class="copyright">
                gmaps-v3-label-marker is &copy; <a href="http://github.com/adammck">Adam Mckaig</a> 2010<br />
                <a href="http://github.com/adammck/gmaps-v3-label-marker">Source code</a>
                is available under <a href="">the BSD license</a>.
            </p>
        </footer>

        <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script src="http://github.com/adammck/gmaps-v3-label-marker/raw/master/source/label-overlay.js"></script>

        <script>
            (function() {
                var map_opts = {
                    "mapTypeId": google.maps.MapTypeId.TERRAIN,
                    "center": new google.maps.LatLng(30, 0),
                    "zoom": 3 };

                var map = new google.maps.Map(
                    document.getElementById("map"),
                    map_opts);

                var people = document.getElementById("people").childNodes;
                for(n in people) {
                    var node = people[n];
                    if(node.tagName && node.tagName.toLowerCase() == "div") {
                        var pos = new google.maps.LatLng(
                            node.getAttribute("lat"),
                            node.getAttribute("lng"));

                        new adammck.maps.Label({
                            "position": pos,
                            "content": node,
                            "map": map
                        });
                    }
                }
            })();
        </script>
    </body>
</html>
